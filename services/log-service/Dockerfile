FROM node:22-alpine

WORKDIR /app

COPY package.json ./
# No dependencies yet, but keep structure compatible for future
RUN npm install --omit=dev || true

COPY src ./src

ENV NODE_ENV=production
EXPOSE 4000

CMD ["npm", "run", "start"]
